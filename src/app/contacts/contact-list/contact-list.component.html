<div class="container">
  <h2>Kontakty</h2>
  <div class="actions">
    <button (click)="exportAll('csv')">Eksport CSV</button>
    <button (click)="exportAll('xlsx')">Eksport XLSX</button>
    <button (click)="exportAll('pdf')">Eksport PDF</button>
    <!-- input typu file ukryty, podłączony do metody import -->
    <input type="file" #fileInput style="display:none"
           (change)="importFile($event)"/>
    <button (click)="fileInput.click()">Import CSV/XLSX</button>
  </div>

  <form [formGroup]="filterForm" class="filters">
    <label>Filtruj po tagach:</label>
    <input formControlName="tags" placeholder="VIP, Prospekt…">

    <label>Filtruj po statusie:</label>
    <select formControlName="status">
      <option value="">Wszystkie</option>
      <option *ngFor="let s of availableStatuses" [value]="s">
        {{ s }}
      </option>
    </select>
  </form>

  <button routerLink="new">Dodaj kontakt</button>
  <ul>
    <li *ngFor="let c of filteredContacts$ | async">
      {{ c.firstName }} {{ c.lastName }} ({{ c.company }})
      <button [routerLink]="[c.id]">Edytuj</button>
      <button (click)="onDelete(c.id)">Usuń</button>
    </li>
  </ul>
</div>
