<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <button class="btn btn-secondary" (click)="back()">← Powrót</button>
    <div>
      <button class="btn btn-outline-primary me-2" (click)="reply()" [disabled]="loading || !!error">Odpowiedz</button>
      <button class="btn btn-outline-secondary ml-2" (click)="importThread()" [disabled]="loading || !!error">
        Importuj wątek (beta)
      </button>
    </div>
  </div>

  <div *ngIf="loading">Ładowanie...</div>
  <div *ngIf="error" class="text-danger">{{ error }}</div>

  <div *ngIf="!loading && msg">
    <h3 class="mb-3">{{ msg.subject }}</h3>
    <p><strong>Od:</strong> {{ msg.from }}</p>
    <p><strong>Do:</strong> {{ msg.to }}</p>
    <p><strong>Data:</strong> {{ msg.date | date:'full' }}</p>
    <hr>
    <div [innerHTML]="bodyHtml"></div>
  </div>
</div>
